<script setup>
    import { version } from '../../package.json'
    
    let release_asset = `Bili23_Downloader_v${version}_release.zip`
    let release_asset_win_ffmpeg = `Bili23_Downloader_v${version}_win_with_ffmpeg_release.zip`
    let release_asset_win = `Bili23_Downloader_v${version}_win_release.zip`

    let release_asset_github = (version, file)=> {
        return `https://github.com/ScottSloan/Bili23-Downloader/releases/download/v${version}/${file}`
    }

</script>

# 安装程序
## 下载发行版
用户可前往[GitHub Release](https://github.com/ScottSloan/Bili23-Downloader/releases/)页面查看历史版本，也可以在下方列表中根据需要选择下载。

| 文件名 | 平台架构 | 下载地址 | 备注 |
| --- | --- | --- | --- |
| {{ release_asset }} | 通用 | <a :href="release_asset_github(version, release_asset)" target="_blank" rel="noreferer">GitHub</a> <br> <a href="https://wwx.lanzout.com/iixdX2wbbkpc" target="_blank" rel="noreferer">蓝奏云</a> | 源码版，需要 Python 环境，并安装 FFmpeg |
| <span>Bili23_Downloader_v{{ version }}_</span><br><span>win_with_ffmpeg_release.zip</span> | Windows x64 | <a :href="release_asset_github(version, release_asset_win_ffmpeg)" target="_blank" rel="noreferer">GitHub</a> <br> <a href="https://wwx.lanzout.com/ioEkU2wbbn1g" target="_blank" rel="noreferer">蓝奏云</a> | 编译版，附带 FFmpeg |
| <span>Bili23_Downloader_v{{ version }}_</span><br><span>win_release.zip</span> | Windows x64 | <a :href="release_asset_github(version, release_asset_win)" target="_blank" rel="noreferer">GitHub</a> <br> <a href="https://wwx.lanzout.com/icTw62wbbl8b" target="_blank" rel="noreferer">蓝奏云</a> | 编译版，不附带 FFmpeg |

::: warning 重要提示
若您使用的是编译版，请先确保安装 Microsoft Visual C++ 2015-2022 运行库，否则无法运行本程序。
如果未安装，请[点击此处](https://aka.ms/vs/17/release/vc_redist.x64.exe)下载安装。
:::

文件 SHA1 值校验
| 文件名 | SHA1 |
| -- | -- |
| {{ release_asset }} | 37d63b1f8c6c6a1afd26bc8953047f404e1bec82 |
| <span>Bili23_Downloader_v{{ version }}_</span><br><span>win_with_ffmpeg_release.zip</span> | 11eb2d00a42a4f1df97bf9e699ded3c736b1a63c |
| <span>Bili23_Downloader_v{{ version }}_</span><br><span>win_release.zip</span> | fad8249baf51874be61e386f78b9cdad76ad422c |

:::tip
下载完成后建议校验 SHA1 值，防止程序被篡改。  

本程序完全开源免费，若是从其他渠道付费获取的，无法保证其安全性和完整性。  

本程序发行版使用 Nuitka 编译，可能会被防病毒软件误报。如果对防病毒软件报毒有疑问的，请删除本程序，使用其他同类工具。  

VirScan 在线病毒检测报告请[点此查看](https://www.virscan.org/report/36323a3aa3c65a056cf18d4491c4926d03d3aa77e1b5651d32c55cd02fd47af9)。
:::

### 如何选择下载版本
+ 未安装 Python 环境  
    + Windows  
        -> 编译版，建议选择附带 FFmpeg 的版本  
    + Linux & macOS  
        -> 源码版  

+ 已安装 Python 环境  
    -> 源码版

### 如何校验 SHA1
::: details 查看校验方法
#### Windows
```bash
certutil -hashfile <file> SHA1
```

#### Linux
```bash
sha1sum <file>
```

#### macOS
```bash
shasum -a 1 <file>
```
:::

## 源码版使用
### 安装 Python 环境
Python 版本需要为 3.10 及以上。

::: details 如果还未安装 Python 环境，点击查看安装方式
从[Python官网](https://www.python.org/)下载系统对应的 Python，建议使用 3.11 及以上版本，最低支持 3.10 版本。  

若下载速度缓慢，建议使用国内[华为云镜像源](https://mirrors.huaweicloud.com/python/)下载。  

安装时注意勾选`Add python.exe to PATH`，创建环境变量。  

[![pElIuQJ.png](https://s21.ax1x.com/2025/02/23/pElIuQJ.png)](https://imgse.com/i/pElIuQJ)

完成 Python 环境安装后，建议执行下面的命令更换 pip 源为清华源，加快 pip 包下载速度：
```bash
pip config set global.index-url https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
```
:::

### 克隆仓库
若已安装 git，执行以下命令克隆仓库：
```bash
git clone https://github.com/ScottSloan/Bili23-Downloader.git
cd Bili23-Downloader
```

若系统未安装 git，请下载上方的源码版并解压，进入到 requirements.txt 同一级目录。

### 安装依赖
#### Windows & macOS
Windows 和 macOS 用户可以执行下面的命令一键安装所需依赖：

```bash
pip install -r requirements.txt
```

下表为程序所需依赖：
| 包 | 版本 | 备注 |
| -- | -- | -- |
| requests | >=2.30.0 | - |
| wxPython | >=4.2.0 | - |
| qrcode[pil] | >=7.4.2 | 必须附带 [pil]（Pillow），否则程序可能无法运行 |

用户也可以手动安装：
```bash
pip install wxPython qrcode[pil] requests
```
#### Linux
由于 Linux 平台各发行版存在差异，wxPython 安装较为繁琐，以下提供最简便的安装方式。
wxPython 官方提供 Debian、Ubuntu、Fedora 和 Centos 等发行版 wheel 包，点击[此处](https://extras.wxpython.org/wxPython4/extras/linux/gtk3/)跳转。

以 Ubuntu 24.04 系统为例，执行下面的命令即可安装：
```bash
pip install -U -f https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-24.04/ wxPython
```

随后再安装其他依赖：
```bash
pip install qrcode[pil] requests
```

### 安装 FFmpeg
程序依赖 FFmpeg 实现音视频合成，格式转换，直播录制等功能，缺少时将影响正常使用。  

有关 FFmpeg 的安装，请参考[下一页](https://bili23.scott-sloan.cn/doc/install/ffmpeg.html)内容。  

:::tip
若使用的是附带 FFmpeg 的编译版，无需再次安装。
:::

### 运行程序
直接运行 GUI.py 即可打开程序：

```bash
cd src
python3 GUI.py
```

## 编译版使用
下载完成后，解压压缩包，`以管理员身份`运行 GUI.exe，即可开始使用。 

:::tip
若出现应用程序错误等问题，请尝试修复 DirectX 和 C++ 运行库。  
:::